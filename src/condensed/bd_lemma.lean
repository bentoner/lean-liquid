import breen_deligne.main
import breen_deligne.eg
import condensed.tensor
import pseudo_normed_group.QprimeFP

noncomputable theory

universes u

open category_theory category_theory.limits breen_deligne opposite
open bounded_homotopy_category

namespace condensed

variables (BD : package)

-- needs torsion-free condition on `M`
def homology_bd_eval (M : Condensed.{u} Ab.{u+1}) (i : ‚Ñ§) :
  ((BD.eval freeCond').obj M).val.as.homology i ‚âÖ
  (tensor M $ ((BD.eval $
    category_theory.forget AddCommGroup ‚ãô AddCommGroup.free').obj
      (AddCommGroup.of $ punit ‚Üí‚ÇÄ ‚Ñ§)).val.as.homology i) :=
sorry

instance : has_coproducts (endomorphisms (Condensed.{u} Ab.{u+1})) :=
sorry

instance : AB4 (endomorphisms (Condensed.{u} Ab.{u+1})) :=
sorry

def eval_freeCond_homology_zero :
  ((data.eval_functor freeCond').obj breen_deligne.eg.data) ‚ãô homology_functor _ _ 0 ‚âÖ ùü≠ _ :=
sorry

instance (Œ± : Type (u+1)) (M) :
  preserves_colimits_of_shape (discrete Œ±) (endo_tensor.obj M) :=
sorry

lemma bd_lemma (A : Condensed.{u} Ab.{u+1}) (B : Condensed.{u} Ab.{u+1})
  (f : A ‚ü∂ A) (g : B ‚ü∂ B) :
  (‚àÄ i, is_iso $ ((Ext' i).map f.op).app B - ((Ext' i).obj (op A)).map g) ‚Üî
  (‚àÄ i, is_iso $
    ((Ext i).map ((breen_deligne.eg.eval freeCond').map f).op).app ((single _ 0).obj B) -
    ((Ext i).obj (op $ (breen_deligne.eg.eval freeCond').obj A)).map ((single _ 0).map g)) :=
begin
  refine package.main_lemma _ _ _ _ _ _ eval_freeCond_homology_zero (endo_tensor.obj ‚ü®A,f‚ü©) _ _ _,
  { sorry },
  { sorry },
  { sorry }
end

end condensed
